{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/tesla-homepage-ui-clone-master/src/components/Model/ModelOverlay/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useLayoutEffect, useState } from 'react';\nimport { useTransform } from 'framer-motion';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { useWrapperScroll } from '../../../hooks';\nimport { Container } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ModelOverlay = _ref => {\n  _s();\n  let {\n    model,\n    children\n  } = _ref;\n  const {\n    scrollY\n  } = useWrapperScroll();\n  const getSectionDimensions = useCallback(() => {\n    var _model$sectionRef$cur, _model$sectionRef$cur2, _model$sectionRef$cur3, _model$sectionRef$cur4;\n    return {\n      offsetTop: (_model$sectionRef$cur = (_model$sectionRef$cur2 = model.sectionRef.current) === null || _model$sectionRef$cur2 === void 0 ? void 0 : _model$sectionRef$cur2.offsetTop) !== null && _model$sectionRef$cur !== void 0 ? _model$sectionRef$cur : 0,\n      offsetHeight: (_model$sectionRef$cur3 = (_model$sectionRef$cur4 = model.sectionRef.current) === null || _model$sectionRef$cur4 === void 0 ? void 0 : _model$sectionRef$cur4.offsetHeight) !== null && _model$sectionRef$cur3 !== void 0 ? _model$sectionRef$cur3 : 0\n    };\n  }, [model.sectionRef]);\n  const [dimensions, setDimensions] = useState(getSectionDimensions());\n  useLayoutEffect(() => {\n    function onResize() {\n      window.requestAnimationFrame(() => setDimensions(getSectionDimensions()));\n    }\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, [getSectionDimensions, model.sectionRef]);\n  const sectionScrollProgress = useTransform(scrollY, y => (y - dimensions.offsetTop) / dimensions.offsetHeight);\n  const opacity = useTransform(sectionScrollProgress, [-0.65, -0.05, 0.05, 0.65], [0, 1, 1, 0]);\n  const pointerEvents = useTransform(opacity, value => value > 0 ? 'auto' : 'none');\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      opacity,\n      pointerEvents\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 10\n  }, this);\n};\n_s(ModelOverlay, \"502s5pFQmb1wgepsrWhcDF1IMbQ=\", false, function () {\n  return [useWrapperScroll, useTransform, useTransform, useTransform];\n});\n_c = ModelOverlay;\nexport default ModelOverlay;\nvar _c;\n$RefreshReg$(_c, \"ModelOverlay\");","map":{"version":3,"names":["React","useCallback","useLayoutEffect","useState","useTransform","useWrapperScroll","Container","ModelOverlay","model","children","scrollY","getSectionDimensions","offsetTop","sectionRef","current","offsetHeight","dimensions","setDimensions","onResize","window","requestAnimationFrame","addEventListener","removeEventListener","sectionScrollProgress","y","opacity","pointerEvents","value"],"sources":["/Users/macbook/Desktop/tesla-homepage-ui-clone-master/src/components/Model/ModelOverlay/index.tsx"],"sourcesContent":["import React, { useCallback, useLayoutEffect, useState } from 'react';\nimport { useTransform } from 'framer-motion';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { CarModel, useWrapperScroll } from '../../../hooks';\n\nimport { Container } from './styles';\n\ninterface Props {\n  model: CarModel;\n}\n\ntype SectionDimensions = Pick<HTMLDivElement, 'offsetTop' | 'offsetHeight'>;\n\nconst ModelOverlay: React.FC<Props> = ({ model, children }) => {\n  const { scrollY } = useWrapperScroll();\n\n  const getSectionDimensions = useCallback(() => {\n    return {\n      offsetTop: model.sectionRef.current?.offsetTop ?? 0,\n      offsetHeight: model.sectionRef.current?.offsetHeight ?? 0,\n    } as SectionDimensions;\n  }, [model.sectionRef]);\n\n  const [dimensions, setDimensions] = useState<SectionDimensions>(getSectionDimensions());\n\n  useLayoutEffect(() => {\n    function onResize() {\n      window.requestAnimationFrame(() => setDimensions(getSectionDimensions()));\n    }\n\n    window.addEventListener('resize', onResize);\n\n    return () => window.removeEventListener('resize', onResize);\n  }, [getSectionDimensions, model.sectionRef]);\n\n  const sectionScrollProgress = useTransform(scrollY, y => (y - dimensions.offsetTop) / dimensions.offsetHeight);\n  const opacity = useTransform(sectionScrollProgress, [-0.65, -0.05, 0.05, 0.65], [0, 1, 1, 0]);\n  const pointerEvents = useTransform(opacity, value => (value > 0 ? 'auto' : 'none'));\n\n  return <Container style={{ opacity, pointerEvents }}>{children}</Container>;\n};\n\nexport default ModelOverlay;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,eAAe,EAAEC,QAAQ,QAAQ,OAAO;AACrE,SAASC,YAAY,QAAQ,eAAe;;AAE5C;AACA,SAAmBC,gBAAgB,QAAQ,gBAAgB;AAE3D,SAASC,SAAS,QAAQ,UAAU;AAAC;AAQrC,MAAMC,YAA6B,GAAG,QAAyB;EAAA;EAAA,IAAxB;IAAEC,KAAK;IAAEC;EAAS,CAAC;EACxD,MAAM;IAAEC;EAAQ,CAAC,GAAGL,gBAAgB,EAAE;EAEtC,MAAMM,oBAAoB,GAAGV,WAAW,CAAC,MAAM;IAAA;IAC7C,OAAO;MACLW,SAAS,qDAAEJ,KAAK,CAACK,UAAU,CAACC,OAAO,2DAAxB,uBAA0BF,SAAS,yEAAI,CAAC;MACnDG,YAAY,sDAAEP,KAAK,CAACK,UAAU,CAACC,OAAO,2DAAxB,uBAA0BC,YAAY,2EAAI;IAC1D,CAAC;EACH,CAAC,EAAE,CAACP,KAAK,CAACK,UAAU,CAAC,CAAC;EAEtB,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAoBQ,oBAAoB,EAAE,CAAC;EAEvFT,eAAe,CAAC,MAAM;IACpB,SAASgB,QAAQ,GAAG;MAClBC,MAAM,CAACC,qBAAqB,CAAC,MAAMH,aAAa,CAACN,oBAAoB,EAAE,CAAC,CAAC;IAC3E;IAEAQ,MAAM,CAACE,gBAAgB,CAAC,QAAQ,EAAEH,QAAQ,CAAC;IAE3C,OAAO,MAAMC,MAAM,CAACG,mBAAmB,CAAC,QAAQ,EAAEJ,QAAQ,CAAC;EAC7D,CAAC,EAAE,CAACP,oBAAoB,EAAEH,KAAK,CAACK,UAAU,CAAC,CAAC;EAE5C,MAAMU,qBAAqB,GAAGnB,YAAY,CAACM,OAAO,EAAEc,CAAC,IAAI,CAACA,CAAC,GAAGR,UAAU,CAACJ,SAAS,IAAII,UAAU,CAACD,YAAY,CAAC;EAC9G,MAAMU,OAAO,GAAGrB,YAAY,CAACmB,qBAAqB,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAC7F,MAAMG,aAAa,GAAGtB,YAAY,CAACqB,OAAO,EAAEE,KAAK,IAAKA,KAAK,GAAG,CAAC,GAAG,MAAM,GAAG,MAAO,CAAC;EAEnF,oBAAO,QAAC,SAAS;IAAC,KAAK,EAAE;MAAEF,OAAO;MAAEC;IAAc,CAAE;IAAA,UAAEjB;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAa;AAC7E,CAAC;AAAC,GA3BIF,YAA6B;EAAA,QACbF,gBAAgB,EAqBND,YAAY,EAC1BA,YAAY,EACNA,YAAY;AAAA;AAAA,KAxB9BG,YAA6B;AA6BnC,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module"}